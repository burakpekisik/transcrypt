<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Güvenli Dosya Transferi</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>Güvenli Dosya Transferi</h1>
        
        <div id="start-options" class="card">
            <h2>Başlangıç Seçenekleri</h2>
            <div class="button-group">
                <button id="create-room-btn" class="primary-btn">Yeni Oda Oluştur</button>
                <button id="join-room-btn" class="secondary-btn">Odaya Katıl</button>
            </div>
        </div>
        
        <div id="join-room" class="card hidden">
            <h2>Odaya Katıl</h2>
            <div class="input-group">
                <input type="text" id="secret-key-input" placeholder="Secret Key girin">
                <button id="join-with-key" class="primary-btn">Katıl</button>
            </div>
            <div class="button-group">
                <button id="back-from-join" class="secondary-btn">Geri</button>
            </div>
        </div>
        
        <div id="room-created" class="card hidden">
            <h2>Oda Oluşturuldu</h2>
            <p>Secret Key: <span id="secret-key-display" class="secret-key"></span></p>
            <p>Bu anahtarı almanız gereken kişiyle paylaşın.</p>
            <div class="button-group">
                <button id="copy-key" class="primary-btn">Kopyala</button>
                <button id="continue-as-sender" class="primary-btn">Gönderici Olarak Devam Et</button>
                <button id="back-from-create" class="secondary-btn">Geri</button>
            </div>
        </div>
        
        <div id="file-transfer" class="card hidden">
            <h2>Dosya Transferi</h2>
            <div id="connection-status" class="status-box">
                <p>Bağlantı durumu: <span id="status-text">Bağlanıyor...</span></p>
                <div id="room-details">
                    <p>Gönderici: <span id="sender-count">0</span></p>
                    <p>Alıcı: <span id="receiver-count">0</span></p>
                </div>
            </div>
            
            <div id="sender-controls" class="hidden">
                <h3>Dosya Gönder</h3>
                <input type="file" id="file-input">
                
                <div class="encryption-options">
                    <h4>Şifreleme Seçenekleri</h4>
                    <div class="option-group">
                        <label for="encryption-method">Şifreleme Metodu:</label>
                        <select id="encryption-method">
                            <option value="aes-256-gcm">AES-256-GCM (Varsayılan)</option>
                            <option value="none">Şifrelemesiz</option>
                        </select>
                    </div>
                    <div class="option-group">
                        <input type="checkbox" id="integrity-check" checked>
                        <label for="integrity-check">Bütünlük Doğrulama (SHA-256)</label>
                    </div>
                </div>
                
                <button id="send-file-btn" class="primary-btn" disabled>Dosya Gönder</button>
            </div>
            
            <div id="receiver-waiting" class="hidden">
                <h3>Dosya Bekleniyor</h3>
                <p>Gönderici bir dosya gönderdiğinde otomatik olarak indirilecektir.</p>
                <div id="encryption-info" class="status-box hidden">
                    <h4>Şifreleme Bilgisi</h4>
                    <p id="encryption-method-info"></p>
                    <p id="integrity-check-info"></p>
                </div>
            </div>
            
            <div id="transfer-progress" class="hidden">
                <h3>Transfer İlerlemesi</h3>
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <p id="progress-text">0%</p>
                <p id="file-info"></p>
                
                <!-- Yeni eklediğimiz şifreleme log alanı -->
                <div id="encryption-logs" class="log-container hidden">
                    <h4>Şifreleme Logları</h4>
                    <div class="logs" id="encryption-log-content"></div>
                </div>
                
                <!-- Yeni eklediğimiz bütünlük doğrulama sonuç alanı -->
                <div id="integrity-result" class="integrity-container hidden">
                    <h4>Bütünlük Doğrulama Sonucu</h4>
                    <div id="integrity-status"></div>
                    <div class="button-group">
                        <button id="download-file-btn" class="primary-btn" disabled>Dosyayı İndir</button>
                    </div>
                </div>
            </div>
            
            <div class="button-group">
                <button id="leave-room" class="secondary-btn">Odadan Ayrıl</button>
            </div>
        </div>
    </div>
    
    <script src="/static/script.js"></script>
</body>
</html>
